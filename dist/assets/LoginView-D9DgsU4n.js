import{d as y,g as i,c as t,a as s,e as o,h as B,i as b,u,t as h,w as c,f as d,r as x,j as N,o as l}from"./index-BB5AZnCh.js";import{_ as S}from"./studymatch_logo-CTDMyh22.js";import{B as f}from"./BaseInput-C9b4cCzE.js";import{B as C,_ as L}from"./BaseButton-zage8l4P.js";import{L as E}from"./LoadingSpinner-DWGhZI7T.js";import{u as q}from"./useAuth-DDk3jyBf.js";const A={class:"login-view"},I={class:"login-card"},M={key:0,class:"success-state"},R={key:0,class:"error-message"},T={class:"register-link"},U=y({__name:"LoginView",setup(j){const g=N(),{login:v,loading:_,error:m}=q(),a=i(""),r=i(""),p=i(!1);async function w(){await v({username:a.value,password:r.value})&&(p.value=!0,setTimeout(()=>{g.push("/users")},1500))}return(V,e)=>{const k=x("router-link");return l(),t("div",A,[e[7]||(e[7]=s("img",{src:S,width:"300",height:"auto"},null,-1)),s("div",I,[e[6]||(e[6]=s("h1",{class:"title"},"Willkommen zurück",-1)),p.value?(l(),t("div",M,[o(E,{"is-success":!0}),e[2]||(e[2]=s("p",null,"Erfolgreich angemeldet!",-1))])):(l(),t("form",{key:1,onSubmit:B(w,["prevent"]),class:"login-form"},[o(f,{class:"input-field",modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=n=>a.value=n),label:"E-Mail",type:"email",placeholder:"deine@email.de",required:""},null,8,["modelValue"]),o(f,{class:"input-field",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=n=>r.value=n),label:"Passwort",type:"password",placeholder:"••••••••",required:""},null,8,["modelValue"]),u(m)?(l(),t("p",R,h(u(m)),1)):b("",!0),o(C,{type:"submit",loading:u(_)},{default:c(()=>[...e[3]||(e[3]=[d(" Anmelden ",-1)])]),_:1},8,["loading"]),s("p",T,[e[5]||(e[5]=d(" Noch kein Konto? ",-1)),o(k,{to:"/register"},{default:c(()=>[...e[4]||(e[4]=[d("Registrieren",-1)])]),_:1})])],32))])])}}}),G=L(U,[["__scopeId","data-v-04374156"]]);export{G as default};
